# Plan 05-02: Audit Investigation Workflow

## Objective
Verify investigation data collection (interviews, evidence, RCA)

## Scope
Audit only - document findings for Phase 10 fixes

---

## Tasks

### Task 1: Audit Interview Workflow
**Files**: `apps/web/src/app/api/interviews/route.js`, `apps/web/src/app/api/interviews/[id]/analyze/route.js`, `apps/web/src/app/api/interview-witnesses/route.js`

- [ ] Verify interview creation linked to incident_id
- [ ] Verify AI transcription/analysis flow (OpenAI Whisper + GPT-4)
- [ ] Document witness relationship (interview_witnesses table)
- [ ] Note: no interview date/time tracking (only created_at)

### Task 2: Audit Evidence Collection
**Files**: `apps/web/src/app/api/evidence/route.js`

- [ ] Verify evidence linked to incident_id
- [ ] Document file types supported (photo, document, video)
- [ ] Note: no chain of custody tracking
- [ ] Note: uploaded_by is string, not FK

### Task 3: Audit Root Cause Analysis
**Files**: `apps/web/src/app/api/root-cause/route.js`, `apps/web/src/app/api/root-cause/[id]/route.js`

- [ ] Verify 5 Whys structure (why_level 1-5)
- [ ] Document finalization workflow
- [ ] Note: RCA not linked to corrective actions
- [ ] Note: supporting_evidence is text, not FK

---

## Files to Read

```
apps/web/src/app/api/interviews/route.js
apps/web/src/app/api/interviews/[id]/route.js
apps/web/src/app/api/interviews/[id]/analyze/route.js
apps/web/src/app/api/evidence/route.js
apps/web/src/app/api/root-cause/route.js
apps/web/src/app/api/root-cause/[id]/route.js
apps/web/src/app/api/interview-witnesses/route.js
apps/web/src/app/api/messages/route.js
```

## Files to Modify
None (audit only - creates SUMMARY.md)

---

## Verification
- [ ] Interview workflow documented
- [ ] Evidence collection documented
- [ ] RCA workflow documented
- [ ] SUMMARY.md created with findings
