# Plan 06-02: Audit Review and Approval Flow

## Objective
Verify review pages and approval workflow

## Scope
Audit only - document findings for Phase 10 fixes

---

## Tasks

### Task 1: Audit Review Listing Page
**Files**: `apps/web/src/app/reviews/page.jsx`

- [ ] Verify status filtering works (submitted, approved, rejected)
- [ ] Document client isolation enforcement
- [ ] Check role requirements (currently empty array)
- [ ] Document table columns and data displayed

### Task 2: Audit Approval/Rejection Flow
**Files**: `apps/web/src/app/reviews/[id]/page.jsx`, `apps/web/src/app/api/incidents/[id]/route.js`

- [ ] Verify PATCH updates status correctly
- [ ] Document reviewed_by/reviewed_at tracking
- [ ] **Note**: reviewed_by hardcoded to 1 (known from Phase 5)
- [ ] Verify rejection requires reason
- [ ] Document confirmation dialogs

### Task 3: Document Role-Based Access Gaps
**Files**: `apps/web/src/app/api/utils/auth.js`

- [ ] Document: `requireRole(request, [])` allows any authenticated user
- [ ] Note: no reviewer role enforcement
- [ ] Create recommendations for Phase 10

---

## Files to Read

```
apps/web/src/app/reviews/page.jsx
apps/web/src/app/reviews/[id]/page.jsx
apps/web/src/app/api/incidents/[id]/route.js
apps/web/src/app/api/utils/auth.js
```

## Files to Modify
None (audit only - creates SUMMARY.md)

---

## Verification
- [ ] Review listing page documented
- [ ] Approval/rejection flow verified
- [ ] Role-based access gaps documented
- [ ] SUMMARY.md created with findings
